<div class="container">
  <div class="d-flex">
    <div class="d-flex flex-column">
      <% @game_sessions.each do |game_session| %>
        <div class="session-card d-flex flex-row">
          <% if game_session.photo.attached? %>
            <%= cl_image_tag game_session.photo.key, height: 300, width: 300, crop: :fill %>
          <% else %>
          <% end %>

          <div class="d-flex flex-column">
            <div class="p-2"><%= link_to game_session.session_name, game_session_path(game_session.id) %></div>
            <div class="p-2">What are we playing? <%= game_session.game.name %></div>
            <div class="p-2">Where? <%= game_session.address  %></div>
            <div class="p-2">Spaces available: <%= game_session.capacity  %></div>
          </div>

          <% if policy(game_session).destroy? %>
            <%= link_to game_session_path(game_session), method: :delete, data: { confirm: "Are you sure you want to delete this offer?" } do %>
              <button class = 'btn btn-danger'><i class="fas fa-trash-alt"></i></button>
            <% end %>
          <% end %>
        </div>
      <% end %>
    </div>
    <div id="map" class="round-border"
        style="width: 100%; height: 600px;"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>
